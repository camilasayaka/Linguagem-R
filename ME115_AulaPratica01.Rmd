---
title: "ME115 - Linguagem R"
author: "Camila Sayaka Hiura"
date: "25/03/2021"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Operações exploradas:
* criação de vetores utilizando: c(), seq() e rep() 
* indexação ([ ]) de vetores através de: índice numérico, vetores numéricos, variáveis da classe de vetor, índices fornecidos pelo comando which, índices resultantes de operações lógicas do tipo >, <, & e ||

* classe de objeto (comando class)
* instalação (install.packages()) e carregamento (library) de pacotes
* criação e exploração do objeto data.frame
* realização de gráfico usando o comando plot usando escala original e logarítmica das variáveis


## Atividade
1) Use a função `c` para criar um vetor com as médias das temperaturas máximas em janeiro nas cidades: Beijing, Lagos, Paris, Rio de Janeiro, San Juan e Toronto, que são, respectivamente, 35, 88, 42, 84, 81, and 30 graus Fahrenheit. Chame este objeto de `temp`.
```{r, indent = "     "}
temp <- c(35, 88, 42, 84, 81, 30)
temp
```
2. Crie um vetor com os nomes das cidades (Beijing, Lagos, Paris, Rio de Janeiro, San Juan e Toronto) e chame esse objeto de `city`.
```{r, indent = "     "}
city <- c("Beijing", "Lagos", "Paris", "Rio de Janeiro", "San Juan", "Toronto")
city
```
3. Use os operadores `[` and `:` para acessar as temperaturas das três primeiras cidades listadas.
```{r, indent = "     "}
names(temp) <- city
temp
```
```{r, indent = "     "}
temp[1:3]
```
4. Use o operador `[ ` operator para acessar as temperaturas de Paris e San Juan.
```{r, indent = "     "}
temp["Paris"]
temp["San Juan"]
```
5. Use o operador `:` para criar a sequência de números: $12,\,13,\,14,\,\ldots,73$.
```{r, indent = "     "}
12:73
```
6. Crie um vetor contendo todos os números ímpares positivos e menores do que 100.
```{r, indent = "     "}
seq(1,100,2)
```
7. Crie um vetor de números que inicia em 6, não ultrapassa 55 e aumenta em incrementos de $4/7$: $6,\,6+4/7,\, 6+ 8/7$, etc. Quantos elementos estão neste vetor?
```{r, indent = "     "}
vetor <- seq(6,55,4/7)
vetor
```

9. Qual é a classe do seguinte objeto: `a <- seq(1, 10, 0.5)`?
```{r, indent = "     "}
a <- seq(1, 10, 0.5)
class(a)
```
10. Qual é a classe do seguinte objeto: `a <- seq(1, 10)`?
```{r, indent = "     "}
a <- seq(1, 10)
class(a)
```
11. Defina o seguinte vetor: x <- c("1", "3", "5") e force para que ele contenha números inteiros.
```{r, indent = "     "}
x <- c("1", "3", "5")
as.integer(x)
```
12. Você pode criar um conjunto de dados usando a função `data.frame`. Exemplo:  
temp <- c(35, 88, 42, 84, 81, 30)  
city <- c("Beijing", "Lagos", "Paris", "Rio de Janeiro","San Juan", "Toronto")  
city_temps <- data.frame(name = city, temperature = temp)  
Use o código acima para criar o conjunto de dados, mas adicione uma variável que indique a temperatura em Celsius.
```{r, indent = "     "}
temp <- c(35, 88, 42, 84, 81, 30)  
city <- c("Beijing", "Lagos", "Paris", "Rio de Janeiro","San Juan", "Toronto")  
city_temps <- data.frame(name = city, temperature = temp) 
Celsius <- (temp-32)/1.8
cbind(city_temps, Celsius)
```
13. Carregue a biblioteca e o conjunto de dados:  
library(dslabs)  
data(murders)  
Calcule a taxa de mortes por arma de fogo por 100 mil habitantes para cada estado e guarde em um objeto com nome `murder_rate`. Use um operador lógico para criar um vetor lógico chamado `low` que indica quais estados possuem taxa abaixo de 1.
```{r, indent = "     "}
library(dslabs)  
data(murders)
murder_rate <- murders$total / murders$population*100000
low <- murders$state[murder_rate <1]
low
```
14. Use os resultados do exercício anterior e a função `which` para determinar os índices 
(posições do vetor) de `murder_rate` que estão abaixo de 1.
```{r, indent = "     "}
library(dslabs)  
data(murders)
murder_rate
murder_rate <- murders$total / murders$population*100000
ind <- which(murder_rate<1)
```
15. Use os resultados do exercício anterior para listar os nomes dos estados com taxas 
de mortes por arma de fogo abaixo de 1 (por 100 mil habitantes).
```{r, indent = "     "}
murders$state[ind]
```
16. Liste os estados da região "Northeast" com taxas de mortes por arma de fogo abaixo 
de 1 (por 100 mil habitantes). Dica: use o vetor lógico `low` e o oerador lógico `&`.
```{r, indent = "     "}
murders$state[murders$region=="Northeast" & murder_rate <1]
```
17. Calcule a média das taxas de mortes por arma de fogo por 100 mil habitantes entre os
estados.
```{r, indent = "     "}
mean(murder_rate)
```
18. Quantos estados estão abaixo da média?
```{r, indent = "     "}
murders$state[murder_rate<mean(murder_rate)]
```
19. O código a seguir produz um gráfico do total de mortes versus tamanho da população.  
population_in_millions <- murders$population/10^6  
total_gun_murders <- murders$total  
plot(population_in_millions, total_gun_murders)  
Como muitos estados têm população abaixo de 5 milhões, o gráfico não mostra muito bem os dados. Refaça o gráfico usando a escala logaritmica. Transforme usando `log10` e refaça o gráfico
```{r, indent = "     "}
population_in_millions <- murders$population/10^6  
total_gun_murders <- murders$total  
plot(population_in_millions, total_gun_murders)  
```

```{r, indent = "     "}
population_in_millions <- murders$population/10^6  
total_gun_murders <- murders$total  
plot(log10(population_in_millions), log10(total_gun_murders))
```



















